{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Instructor Dashboard | E-Learn</title>

<link rel="stylesheet" href="{% static 'css/instructor_dashboard.css' %}">
</head>

<body>

<div class="dashboard">

    <!-- ===== SIDEBAR ===== -->
    <div class="sidebar" id="sidebar">

        <div class="logo">ğŸ“ ELP</div>

        <a href="{% url 'instructor_dashboard' %}" class="active">
            ğŸ  <span>Dashboard</span>
        </a>

        <a href="{% url 'courses:add_course' %}">
            â• <span>Add Course</span>
        </a>

        <a href="{% url 'courses:instructor_courses' %}">
            ğŸ“š <span>Manage Courses</span>
        </a>

        <!-- âœ… FIXED ASSIGNMENT LINK -->
        <a href="{% url 'assignments:instructor_assignments_redirect' %}">
            ğŸ§  <span>Assignments</span>
        </a>

        <a onclick="toggleProfile()">
            ğŸ‘¤ <span>Profile</span>
        </a>

        <form method="POST" action="{% url 'logout' %}">
            {% csrf_token %}
            <button class="logout">ğŸšª Logout</button>
        </form>

    </div>

    <!-- ===== MAIN ===== -->
    <div class="main" id="main">

        <div class="topbar">
            <span class="toggle-btn" onclick="toggleSidebar()">â˜°</span>
            <h1>Welcome, {{ request.user.full_name }} ğŸ‘‹</h1>
        </div>

        <!-- PROFILE CARD -->
        <div class="profile-card" id="profileCard">
            <h2>Your Profile</h2>
            <p><strong>Name:</strong> {{ request.user.full_name }}</p>
            <p><strong>Email:</strong> {{ request.user.email }}</p>
            <p><strong>Role:</strong> {{ request.user.role }}</p>
        </div>

        <h2 class="section-title">Instructor Actions</h2>

        <div class="card-grid">

            <!-- Add Course -->
            <div class="card">
                <h3>â• Add New Course</h3>
                <p>Create and publish new learning content.</p>
                <a href="{% url 'courses:add_course' %}" class="btn">
                    Add Course
                </a>
            </div>

            <!-- Manage Courses -->
            <div class="card">
                <h3>ğŸ“š Manage Courses</h3>
                <p>Add modules, lessons & content.</p>
                <a href="{% url 'courses:instructor_courses' %}" class="btn">
                    Manage
                </a>
            </div>

            <!-- âœ… Assignment Management (Fixed) -->
            <div class="card">
                <h3>ğŸ§  Assignment Management</h3>
                <p>Create assignments & MCQs.</p>
                <a href="{% url 'assignments:instructor_assignments_redirect' %}" class="btn">
                    Open
                </a>
            </div>

            <!-- Student Performance -->
            <div class="card">
                <h3>ğŸ“Š Student Performance</h3>
                <p>Track student progress & scores.</p>
                <span class="btn disabled">Coming Soon</span>
            </div>

        </div>

    </div>
</div>

<script>
function toggleSidebar(){
    document.getElementById("sidebar").classList.toggle("collapsed");
    document.getElementById("main").classList.toggle("expand");
}

function toggleProfile(){
    const card = document.getElementById("profileCard");
    card.style.display = card.style.display === "block" ? "none" : "block";
}
</script>

</body>
</html>
